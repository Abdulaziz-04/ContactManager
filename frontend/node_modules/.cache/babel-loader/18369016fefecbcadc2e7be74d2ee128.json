{"ast":null,"code":"import _objectSpread from\"/home/abdul/Documents/Reactprog/ContactManager/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{REGISTER_SUCCESS,REGISTER_FAIL,CLEAR_ERRORS,USER_LOADED,AUTH_ERROR,LOGIN_SUCCESS,LOGIN_FAIL,LOGOUT}from'../types';var authReducer=function authReducer(state,action){switch(action.type){default:return state;case REGISTER_SUCCESS:case LOGIN_SUCCESS:localStorage.setItem('token',action.payload.token);return _objectSpread({},state,{},action.payload,{isAuth:true,loading:false});case REGISTER_FAIL:case LOGIN_FAIL:case AUTH_ERROR:{localStorage.removeItem('token');return _objectSpread({},state,{token:null,isAuth:false,user:null,error:action.payload,loading:false});}case CLEAR_ERRORS:return _objectSpread({},state,{error:null});case USER_LOADED:return _objectSpread({},state,{user:action.payload,isAuth:true,loading:false});case LOGOUT:localStorage.removeItem('token');return _objectSpread({},state,{token:null,isAuth:false,user:null,error:null});}};export default authReducer;","map":{"version":3,"sources":["/home/abdul/Documents/Reactprog/ContactManager/frontend/src/ContextAPI/Auth/authReducer.js"],"names":["REGISTER_SUCCESS","REGISTER_FAIL","CLEAR_ERRORS","USER_LOADED","AUTH_ERROR","LOGIN_SUCCESS","LOGIN_FAIL","LOGOUT","authReducer","state","action","type","localStorage","setItem","payload","token","isAuth","loading","removeItem","user","error"],"mappings":"yIAAA,OACIA,gBADJ,CAEIC,aAFJ,CAGIC,YAHJ,CAIIC,WAJJ,CAKIC,UALJ,CAMIC,aANJ,CAOIC,UAPJ,CAQIC,MARJ,KASO,UATP,CAWA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAQC,MAAR,CAAmB,CACnC,OAAQA,MAAM,CAACC,IAAf,EACI,QACI,MAAOF,CAAAA,KAAP,CACJ,IAAKT,CAAAA,gBAAL,CACA,IAAKK,CAAAA,aAAL,CACIO,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BH,MAAM,CAACI,OAAP,CAAeC,KAA7C,EACA,wBACON,KADP,IAEOC,MAAM,CAACI,OAFd,EAGIE,MAAM,CAAE,IAHZ,CAIIC,OAAO,CAAE,KAJb,GAMJ,IAAKhB,CAAAA,aAAL,CACA,IAAKK,CAAAA,UAAL,CACA,IAAKF,CAAAA,UAAL,CAAiB,CACbQ,YAAY,CAACM,UAAb,CAAwB,OAAxB,EACA,wBACOT,KADP,EAEIM,KAAK,CAAE,IAFX,CAGIC,MAAM,CAAE,KAHZ,CAIIG,IAAI,CAAE,IAJV,CAKIC,KAAK,CAAEV,MAAM,CAACI,OALlB,CAMIG,OAAO,CAAE,KANb,GAQH,CACD,IAAKf,CAAAA,YAAL,CACI,wBACOO,KADP,EAEIW,KAAK,CAAE,IAFX,GAIJ,IAAKjB,CAAAA,WAAL,CACI,wBACOM,KADP,EAEIU,IAAI,CAAET,MAAM,CAACI,OAFjB,CAGIE,MAAM,CAAE,IAHZ,CAIIC,OAAO,CAAE,KAJb,GAMJ,IAAKV,CAAAA,MAAL,CACIK,YAAY,CAACM,UAAb,CAAwB,OAAxB,EACA,wBACOT,KADP,EAEIM,KAAK,CAAE,IAFX,CAGIC,MAAM,CAAE,KAHZ,CAIIG,IAAI,CAAE,IAJV,CAKIC,KAAK,CAAE,IALX,GAvCR,CA+CH,CAhDD,CAkDA,cAAeZ,CAAAA,WAAf","sourcesContent":["import {\n    REGISTER_SUCCESS,\n    REGISTER_FAIL,\n    CLEAR_ERRORS,\n    USER_LOADED,\n    AUTH_ERROR,\n    LOGIN_SUCCESS,\n    LOGIN_FAIL,\n    LOGOUT\n} from '../types';\n\nconst authReducer = (state, action) => {\n    switch (action.type) {\n        default:\n            return state;\n        case REGISTER_SUCCESS:\n        case LOGIN_SUCCESS:\n            localStorage.setItem('token', action.payload.token);\n            return {\n                ...state,\n                ...action.payload,\n                isAuth: true,\n                loading: false\n            };\n        case REGISTER_FAIL:\n        case LOGIN_FAIL:\n        case AUTH_ERROR: {\n            localStorage.removeItem('token');\n            return {\n                ...state,\n                token: null,\n                isAuth: false,\n                user: null,\n                error: action.payload,\n                loading: false\n            };\n        }\n        case CLEAR_ERRORS:\n            return {\n                ...state,\n                error: null\n            };\n        case USER_LOADED:\n            return {\n                ...state,\n                user: action.payload,\n                isAuth: true,\n                loading: false\n            };\n        case LOGOUT:\n            localStorage.removeItem('token');\n            return {\n                ...state,\n                token: null,\n                isAuth: false,\n                user: null,\n                error: null\n            };\n    }\n};\n\nexport default authReducer;\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from\"/home/abdul/Documents/Reactprog/ContactManager/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/abdul/Documents/Reactprog/ContactManager/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/abdul/Documents/Reactprog/ContactManager/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useReducer}from'react';import cmContext from'./cmContext';import cmReducer from'./cmReducer';import{CREATE_CONTACT,DELETE_CONTACT,UPDATE_CONTACT,SET_FILTER,CLEAR_CURRENT,SET_CURRENT,CLEAR_FILTER,CONTACT_ERROR,GET_CONTACTS,CLEAR_CONTACTS}from'../types';import axios from'axios';var CmState=function CmState(props){var initialState={contacts:null,current:null,filter:null,prb:null};var _useReducer=useReducer(cmReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var addContact=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(contact){var config,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:config={headers:{'Content-Type':'application/json'}};_context.prev=1;_context.next=4;return axios.post('/api/contacts',contact,config);case 4:res=_context.sent;dispatch({type:CREATE_CONTACT,payload:res.data});_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);dispatch({type:CONTACT_ERROR,payload:_context.t0.response.data.msg});case 11:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return function addContact(_x){return _ref.apply(this,arguments);};}();var updateContact=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(contact){var config,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:config={headers:{'Content-Type':'application/json'}};_context2.prev=1;_context2.next=4;return axios.put(\"/api/contacts/\".concat(contact._id),contact,config);case 4:res=_context2.sent;dispatch({type:UPDATE_CONTACT,payload:res.data});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);dispatch({type:CONTACT_ERROR,payload:_context2.t0.response.data.msg});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function updateContact(_x2){return _ref2.apply(this,arguments);};}();var deleteContact=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.delete(\"/api/contacts/\".concat(id));case 3:dispatch({type:DELETE_CONTACT,payload:id});_context3.next=9;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);dispatch({type:CONTACT_ERROR,payload:_context3.t0.response.data.msg});case 9:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6]]);}));return function deleteContact(_x3){return _ref3.apply(this,arguments);};}();var setCurrent=function setCurrent(contact){dispatch({type:SET_CURRENT,payload:contact});};var remCurrent=function remCurrent(){dispatch({type:CLEAR_CURRENT});};var setFilter=function setFilter(text){dispatch({type:SET_FILTER,payload:text});};var clearFilter=function clearFilter(){dispatch({type:CLEAR_FILTER});};var getContacts=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var res;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.prev=0;_context4.next=3;return axios.get('/api/contacts');case 3:res=_context4.sent;dispatch({type:GET_CONTACTS,payload:res.data});_context4.next=10;break;case 7:_context4.prev=7;_context4.t0=_context4[\"catch\"](0);dispatch({type:CONTACT_ERROR,payload:_context4.t0.response.data.msg});case 10:case\"end\":return _context4.stop();}}},_callee4,null,[[0,7]]);}));return function getContacts(){return _ref4.apply(this,arguments);};}();var clearContacts=function clearContacts(){dispatch({type:CLEAR_CONTACTS});};return React.createElement(cmContext.Provider,{value:{contacts:state.contacts,current:state.current,filter:state.filter,prb:state.prb,setCurrent:setCurrent,remCurrent:remCurrent,addContact:addContact,deleteContact:deleteContact,updateContact:updateContact,setFilter:setFilter,clearFilter:clearFilter,getContacts:getContacts,clearContacts:clearContacts}},props.children);};export default CmState;","map":{"version":3,"sources":["/home/abdul/Documents/Reactprog/ContactManager/frontend/src/ContextAPI/CM/CmState.js"],"names":["React","useReducer","cmContext","cmReducer","CREATE_CONTACT","DELETE_CONTACT","UPDATE_CONTACT","SET_FILTER","CLEAR_CURRENT","SET_CURRENT","CLEAR_FILTER","CONTACT_ERROR","GET_CONTACTS","CLEAR_CONTACTS","axios","CmState","props","initialState","contacts","current","filter","prb","state","dispatch","addContact","contact","config","headers","post","res","type","payload","data","response","msg","updateContact","put","_id","deleteContact","id","delete","setCurrent","remCurrent","setFilter","text","clearFilter","getContacts","get","clearContacts","children"],"mappings":"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","sourcesContent":["import React, { useReducer } from 'react';\nimport cmContext from './cmContext';\nimport cmReducer from './cmReducer';\nimport {\n    CREATE_CONTACT,\n    DELETE_CONTACT,\n    UPDATE_CONTACT,\n    SET_FILTER,\n    CLEAR_CURRENT,\n    SET_CURRENT,\n    CLEAR_FILTER,\n    CONTACT_ERROR,\n    GET_CONTACTS,\n    CLEAR_CONTACTS\n} from '../types';\nimport axios from 'axios';\n\nconst CmState = props => {\n    const initialState = {\n        contacts: null,\n        current: null,\n        filter: null,\n        prb: null\n    };\n    const [state, dispatch] = useReducer(cmReducer, initialState);\n    const addContact = async contact => {\n        const config = {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        };\n        try {\n            const res = await axios.post('/api/contacts', contact, config);\n            dispatch({ type: CREATE_CONTACT, payload: res.data });\n        } catch (err) {\n            dispatch({ type: CONTACT_ERROR, payload: err.response.data.msg });\n        }\n    };\n    const updateContact = async contact => {\n        const config = {\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        };\n        try {\n            const res = await axios.put(\n                `/api/contacts/${contact._id}`,\n                contact,\n                config\n            );\n            dispatch({ type: UPDATE_CONTACT, payload: res.data });\n        } catch (err) {\n            dispatch({ type: CONTACT_ERROR, payload: err.response.data.msg });\n        }\n    };\n    const deleteContact = async id => {\n        try {\n            await axios.delete(`/api/contacts/${id}`);\n            dispatch({ type: DELETE_CONTACT, payload: id });\n        } catch (err) {\n            dispatch({ type: CONTACT_ERROR, payload: err.response.data.msg });\n        }\n    };\n    const setCurrent = contact => {\n        dispatch({ type: SET_CURRENT, payload: contact });\n    };\n    const remCurrent = () => {\n        dispatch({ type: CLEAR_CURRENT });\n    };\n\n    const setFilter = text => {\n        dispatch({ type: SET_FILTER, payload: text });\n    };\n    const clearFilter = () => {\n        dispatch({ type: CLEAR_FILTER });\n    };\n    const getContacts = async () => {\n        try {\n            const res = await axios.get('/api/contacts');\n            dispatch({ type: GET_CONTACTS, payload: res.data });\n        } catch (err) {\n            dispatch({ type: CONTACT_ERROR, payload: err.response.data.msg });\n        }\n    };\n    const clearContacts = () => {\n        dispatch({ type: CLEAR_CONTACTS });\n    };\n    return (\n        <cmContext.Provider\n            value={{\n                contacts: state.contacts,\n                current: state.current,\n                filter: state.filter,\n                prb: state.prb,\n                setCurrent,\n                remCurrent,\n                addContact,\n                deleteContact,\n                updateContact,\n                setFilter,\n                clearFilter,\n                getContacts,\n                clearContacts\n            }}\n        >\n            {props.children}\n        </cmContext.Provider>\n    );\n};\n\nexport default CmState;\n"]},"metadata":{},"sourceType":"module"}